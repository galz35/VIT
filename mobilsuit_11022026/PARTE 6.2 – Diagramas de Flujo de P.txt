PARTE 6.2 â€“ Diagramas de Flujo de Procesos Clave

Estos diagramas representan la lÃ³gica operativa que seguirÃ¡ el sistema para asegurar confiabilidad, trazabilidad y sincronizaciÃ³n completa.

ğŸ”„ 6.2.1 â€“ Flujo de Check-in MÃ³vil
[Inicio App]
   â†“
[Selecciona Tarea]
   â†“
[Presiona "Check-in"]
   â†“
[Validar UbicaciÃ³n vs Cliente]
   â”œâ”€ [Fuera de radio] â†’ [Alerta geocerca + bloqueo]
   â†“
[Registrar GPS + baterÃ­a]
   â†“
[Tomar foto opcional]
   â†“
[Enviar a API / Guardar local si offline]
   â†“
[Marcar tarea como EN_PROCESO]

ğŸ“¡ 6.2.2 â€“ Tracking GPS Continuo (Background)
[Servicio Tracking activo]
   â†“
[Cada N segundos]
   â†“
[Obtener GPS + baterÃ­a + velocidad]
   â†“
[Guardar en base local (sqlite)]
   â†“
[Intentar sync â†’ API tracking]
   â”œâ”€ [OK] â†’ [Borrar local]
   â””â”€ [Error] â†’ [Reintentar en prÃ³ximo ciclo]

ğŸ“¤ 6.2.3 â€“ SincronizaciÃ³n General
[App detecta conexiÃ³n disponible]
   â†“
[Ejecuta SyncService]
   â†“
[Cargar tareas en cola]
   â†“
[Enviar formularios + archivos]
   â†“
[Enviar tracking GPS pendiente]
   â†“
[Marcar como enviado]
   â†“
[Notificar al usuario: "Sync completa"]

ğŸš¨ 6.2.4 â€“ Alerta por Geocerca
[Backend Worker cada 3 min]
   â†“
[Consulta Ãºltimos puntos GPS de usuarios]
   â†“
[Comparar posiciÃ³n vs radio del cliente asignado]
   â†“
[Si fuera de zona y en horario activo]
   â†“
[Insertar en tabla alertas]
   â†“
[Emitir WS a admin: alerta geocerca]

ğŸ“ 6.2.5 â€“ EnvÃ­o de Formulario
[Usuario completa formulario dinÃ¡mico]
   â†“
[Adjunta firma + imÃ¡genes]
   â†“
[BotÃ³n ENVIAR]
   â†“
[Valida campos obligatorios]
   â†“
[EnvÃ­a JSON + archivos al backend]
   â†“
[Registra en respuestas_formulario + archivos]
   â†“
[Vuelve a tarea detalle con estado COMPLETADA]

ğŸ‘® 6.2.6 â€“ Cierre de Jornada AutomÃ¡tico (Backend)
[CRON 22:00 cada dÃ­a]
   â†“
[Buscar tareas en estado EN_PROCESO o PENDIENTE]
   â†“
[Marcar como INCOMPLETAS]
   â†“
[Insertar alerta de cierre automÃ¡tico]
   â†“
[Registrar resumen jornada]


Â¿Paso ahora a la Parte 7.1 â€“ Extensiones opcionales futuras (mÃ³dulo IA, dashboard gerencial, reconocimiento facial, gamificaciÃ³n)?