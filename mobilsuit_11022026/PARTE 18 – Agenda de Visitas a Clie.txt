PARTE 18 â€“ Agenda de Visitas a Clientes (PlanificaciÃ³n Operativa)

Orientado a gestionar rutas, frecuencia y distribuciÃ³n de visitas de campo, de forma automatizada, repetitiva o manual, sin interferir con otros sistemas internos.

ğŸ§  18.1 â€“ Â¿QuÃ© cubre esta agenda?
Caso de uso	Â¿EstÃ¡ cubierto?
Visitas Ãºnicas agendadas a mano	âœ…
Frecuencia semanal/mensual	âœ…
Rutas automÃ¡ticas por zona	âœ…
AsignaciÃ³n a mÃºltiples usuarios	âœ…
Clientes con GPS y validaciÃ³n	âœ…
RepeticiÃ³n de tareas operativas	âœ…
Check-in/check-out asociados	âœ…
ğŸ§± 18.2 â€“ Tabla: tareas_visita
Campo	Tipo	DescripciÃ³n
id_tarea	UUID	Identificador Ãºnico
fecha_visita	DATE	DÃ­a planificado
cliente_id	UUID	RelaciÃ³n con cliente
usuario_id	UUID	TÃ©cnico asignado
estado	TEXT	pendiente / en curso / finalizada
frecuencia	TEXT	ninguna, semanal, mensual
checkin_id	FK	Check-in registrado (si existe)
zona_id	FK	Para agrupaciÃ³n geogrÃ¡fica
observaciones	TEXT	Libre (coordinaciones, referencias)
âš™ï¸ 18.3 â€“ LÃ³gica para RepeticiÃ³n

Ejemplo: cliente A â†’ visita cada lunes y jueves

INSERT INTO tareas_visita (...fecha...) VALUES 
  ('2026-02-12'), ('2026-02-15'), ('2026-02-19'), ...


Se genera desde un servicio tipo:

crearRecurrente(cliente_id, frecuencia, dias, desde, hasta)


Esta lÃ³gica queda encapsulada para no afectar tu otro planificador.

ğŸ“ 18.4 â€“ AsignaciÃ³n geogrÃ¡fica inteligente

El supervisor selecciona â€œZona Norteâ€

El sistema sugiere tareas para todos los clientes de esa zona aÃºn no visitados este mes

Puede autocompletar ruta del dÃ­a con distancia optimizada

ğŸ§­ 18.5 â€“ VisualizaciÃ³n Web

Calendario estilo react-big-calendar

Filtros por usuario / zona / cliente

Estado visible por color

Vista semanal â†’ agenda de cada tÃ©cnico

ğŸ§³ 18.6 â€“ Flutter App

Muestra las tareas del dÃ­a ordenadas por distancia

Usuario hace check-in al llegar

Llenado de formulario

Check-out y firma si aplica

ğŸ§¾ 18.7 â€“ Reportes operativos
Indicador	DescripciÃ³n
% visitas completadas	Por dÃ­a / semana / tÃ©cnico
Tareas fuera de zona	Alertas de desviaciÃ³n
Tareas reprogramadas	Por cliente o por causa externa
Formulario incompleto	ValidaciÃ³n cruzada
Distancia recorrida	Por GPS o tracking acumulado

Â¿QuerÃ©s que ahora vayamos con la Parte 19 â€“ Cierre de ciclo por visita (check-out, resumen, firma cliente, observaciones, confirmaciÃ³n final)?