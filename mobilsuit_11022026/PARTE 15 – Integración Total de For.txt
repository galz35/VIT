PARTE 15 â€“ IntegraciÃ³n Total de Formularios con Tareas, Check-ins y Reportes

Este mÃ³dulo asegura que los formularios dinÃ¡micos estÃ©n conectados con las visitas reales, usuarios y reportes, tanto en app como en panel.

ğŸ§± 15.1 â€“ RelaciÃ³n entre Entidades
Entidad	RelaciÃ³n	Detalle
tareas	1:N con formularios_asignados	Una tarea puede tener mÃºltiples formularios
formularios_local	pertenece a id_actividad	Se llena por cada tarea
archivos_local	vinculado por id_origen = id_formulario_local	Guarda firma o evidencia visual
respuestas	Enviadas al backend como json y guardadas por formulario_id y usuario_id	
ğŸ§¾ 15.2 â€“ Almacenamiento de respuesta (Flutter)
{
  "nombre_cliente": "Juan LÃ³pez",
  "edad": 42,
  "satisfaccion": "Alta",
  "firma_cliente": "firma_84535.png"
}


Se guarda como json_respuestas en formularios_local

Si hay archivos, se insertan en archivos_local y se vinculan

ğŸ“¤ 15.3 â€“ EnvÃ­o al Backend
POST /api/respuestas
{
  "id_formulario": "form_001",
  "id_actividad": "act_8321",
  "usuario_id": "usr_1005",
  "json_respuestas": { ... },
  "archivos": [ ... ]
}

ğŸ§® 15.4 â€“ Reportes Web Relacionados
ğŸ—‚ï¸ Por tarea

Tareas completadas con formulario lleno

Campos crÃ­ticos por formulario

Estado: completo / incompleto / invÃ¡lido (faltan firma o campo obligatorio)

ğŸ§ Por usuario

% de tareas con formularios completos

Tiempo promedio de llenado

Alertas: campos con anomalÃ­as o respuestas sospechosas

ğŸ“Š AnalÃ­tica avanzada

Respuestas agregadas por zona

GrÃ¡ficos de distribuciÃ³n por campo

ExportaciÃ³n Excel/PDF de respuestas por fecha, usuario, cliente

ğŸ§ª 15.5 â€“ ValidaciÃ³n cruzada en backend

Si formulario requiere firma y no viene â†’ rechazar

Si campo requerido = true â†’ backend verifica antes de guardar

Control de duplicados: un mismo id_actividad + id_formulario solo se puede llenar 1 vez (o permite versiones si estÃ¡ habilitado)