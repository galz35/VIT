ğŸ“˜ PARTE 2.2 â€“ Flujos Funcionales: Panel Web React (Admin)

Esta secciÃ³n detalla los flujos del administrador/supervisor en la plataforma React para gestiÃ³n operativa.

ğŸ“‹ 2.2.1 â€“ AsignaciÃ³n de Actividades / Visitas
Objetivo:

Permitir que supervisores asignen tareas/visitas a colaboradores.

Pantalla: AsignadorPage
Funcionalidad	DescripciÃ³n
SelecciÃ³n mÃºltiple de clientes	Mapa + lista
AsignaciÃ³n masiva	Arrastrar mÃºltiples clientes a colaborador
ConfiguraciÃ³n	Fecha, hora sugerida, duraciÃ³n estimada, prioridad
PrevisualizaciÃ³n ruta	Ruta sugerida entre visitas (Google Maps API opcional)
Guardado	Crea registros en tabla actividades con estado pendiente
ğŸ§± 2.2.2 â€“ Builder de Formularios DinÃ¡micos
Objetivo:

DiseÃ±ar formularios visualmente que luego se rendericen en la app mÃ³vil.

Pantalla: FormBuilderPage
Funcionalidad	DescripciÃ³n
Drag & Drop	Campos: texto, nÃºmero, selecciÃ³n, fecha, imagen, firma, secciÃ³n
Validaciones	Requerido, condiciones, expresiones (visibleIf, requiredIf)
Versionado	Cada formulario tiene versiÃ³n (form_id, version)
PrevisualizaciÃ³n	Simula cÃ³mo se verÃ¡ en Flutter
Guardado	Guarda JSON estructurado en formularios_def (tabla)
ğŸ—ºï¸ 2.2.3 â€“ Mapa en Vivo / Tracking
Objetivo:

Visualizar la ubicaciÃ³n actual (o Ãºltima conocida) de cada colaborador.

Pantalla: MapaLivePage
Componente	FunciÃ³n
Mapa base	Google Maps / Mapbox
Markers dinÃ¡micos	PosiciÃ³n actual por usuario
LÃ­nea de ruta diaria	Puntos conectados por orden horario
Color por estado	Visitando / Idle / Inactivo
Filtros	Por usuario, por zona, por alerta activa
ğŸš¨ 2.2.4 â€“ Panel de Alertas
Objetivo:

Visualizar y atender alertas del sistema (geofence, pÃ¡nico, inactividad).

Pantalla: AlertaPage
Elemento	Detalle
Tabla de alertas	Tipo, usuario, zona, hora
Acciones	â€œMarcar como atendidaâ€, â€œReasignar visitaâ€, â€œVer en mapaâ€
Prioridad	Color/Ã­cono segÃºn nivel
Notificaciones sonoras	(opcional) para alertas crÃ­ticas
ğŸ“ˆ 2.2.5 â€“ Reportes y KPIs
Objetivo:

Monitorear productividad, cumplimiento y trazabilidad.

Pantalla: ReportePage
Reporte	MÃ©tricas
Diario por colaborador	Total tareas, tareas cumplidas, distancia recorrida, tiempo efectivo, tiempo ocioso
Visitas por cliente	Ãšltima visita, frecuencia promedio, visitas exitosas
Alertas	Totales por tipo, atendidas vs pendientes
Ranking	Top usuarios por cumplimiento, velocidad, cobertura

Opciones:

Exportar a Excel/PDF

Filtros por fecha, regiÃ³n, usuario

ğŸ› ï¸ 2.2.6 â€“ GestiÃ³n de Usuarios y Roles
Pantalla: UsuariosPage

Crear / editar / suspender usuarios

Asignar roles (admin, supervisor, movil)

Asociar usuarios a empresa (multitenant)

Ver historial de actividad

ğŸ“ 2.2.7 â€“ GestiÃ³n de Clientes y Geocercas
Pantalla: ClientesPage

CRUD de clientes con ubicaciÃ³n geogrÃ¡fica

Crear geocerca (radio o polÃ­gono)

Ver visitas histÃ³ricas por cliente

Definir reglas especiales (requiere foto, requiere firma, etc.)

ğŸ’¬ 2.2.8 â€“ Chat y Mensajes Internos
Pantalla: ChatPage

Lista de usuarios conectados

Canales por empresa o grupo

Mensajes privados o grupales

Historial almacenado en SQL

NotificaciÃ³n en tiempo real via WS

âš™ï¸ 2.2.9 â€“ ConfiguraciÃ³n General

Pantalla: ConfiguracionPage

ParÃ¡metros globales:

frecuencia de tracking

radios por defecto

tiempos mÃ¡ximos inactivos

reglas de alerta

Tokens y claves (API Maps, FCM)

Cierre de jornada automatizado